/**
 * @author Josélio de S. C. Júnior <joseliojrx25@gmail.com>
 * @copyright Josélio de S. C. Júnior 2021
 */
const rgx={invalidHex:/[^ #a-f_0-9]/g,validRgb:/^(rgb\((\d+,){2}\d+\)|\((\d+,){2}\d+\)|(\d+,){2}\d+)$/g,validHsl:/^(hsl\(\d+,\d+%*,\d+%*\)|\(\d+,\d+%*,\d+%*\)|\d+,\d+%*,\d+%*)$/g,hex:/[# ]/g,rgb:/[rgb( )]/g,hsl:/[hsl( )%]/g,space:/[ ]/g};function HEXtoRGB(t){const r="rgb(0, 0, 0)";if("string"!=typeof t||t.match(rgx.invalidHex))return r;const e=t=>t.map(t=>parseInt(t,16)).join(", "),n=t.replace(rgx.hex,"");if(3===n.length)return`rgb(${e(n.split("").map(t=>t.repeat(2)))})`;const i=[];for(let t=0;t<n.length;t+=2)i.push(n.slice(t,t+2));return 6===n.length?`rgb(${e(i)})`:r}function RGBtoHEX(t){if("string"!=typeof t)return"#000000";if(t.replace(rgx.space,"").match(rgx.validRgb)){const r=t.replace(rgx.rgb,"").split(","),e=t=>t.map(t=>(t=+t,t<=0?"00":t<16?`0${t.toString(16)}`:t>255?"ff":t.toString(16))).join("");if(3===r.length)return`#${e(r)}`}return"#000000"}function HEXtoHSL(t){return"string"!=typeof t||t.replace(rgx.space,"").match(rgx.invalidHex)?"hsl(0, 0%, 0%)":RGBtoHSL(HEXtoRGB(t).replace(rgx.rgb,"").split(",").map(t=>+t).toString())}function RGBtoHSL(t){const r="hsl(0, 0%, 0%)";if("string"!=typeof t||!t.replace(rgx.space,"").match(rgx.validRgb))return r;const e=t.replace(rgx.rgb,"").split(",").map(t=>(t=+t,t<0?0:t>255?255:t)),n=e.slice(0,3).map(t=>t/255),i=Math.max(...n),g=Math.min(...n),o=i-g,s=0===o?0:i==n[0]?(n[1]-n[2])/o%6*60:i==n[1]?60*((n[2]-n[0])/o+2):60*((n[0]-n[1])/o+4),a=s<0?360+s:s,l=(i+g)/2,c=0===o?0:o/(1-Math.abs(2*l-1)),p=[a.toFixed(),`${(100*c).toFixed()}%`,`${(100*l).toFixed()}%`].join(", ");return 3===e.length?`hsl(${p})`:r}function HSLtoRGB(t){const r="rgb(0, 0, 0)";if("string"!=typeof t)return r;if(t.replace(rgx.space,"").match(rgx.validHsl)){const e=t.replace(rgx.hsl,"").split(",").map(t=>+t);if(e.slice(1,3).some(t=>t>100))return r;e[0]=e[0]>255?255:e[0];const n=e.slice(0,3),i=n[0],g=n[1]/100,o=n[2]/100,s=(1-Math.abs(2*o-1))*g,a=s*(1-Math.abs(i/60%2-1)),l=o-s/2,c=(i>=0&&i<60?[s,a,0]:i>=60&&i<120?[a,s,0]:i>=120&&i<180?[0,s,a]:i>=180&&i<240?[0,a,s]:i>=240&&i<300?[a,0,s]:[s,0,a]).map(t=>(255*(t+l)).toFixed()).join(", ");if(3===e.length)return`rgb(${c})`}return r}function HSLtoHEX(t){return RGBtoHEX(HSLtoRGB(t))}export default class Color{static hex(t,r){return"hsl"===r?HEXtoHSL(t):"rgb"===r?HEXtoRGB(t):"#000000"}static rgb(t,r){return"hsl"===r?RGBtoHSL(t):"hex"===r?RGBtoHEX(t):"rgb(0, 0, 0)"}static hsl(t,r){return"rgb"===r?HSLtoRGB(t):"hex"===r?HSLtoHEX(t):"hsl(0, 0%, 0%)"}};